# 服务器端配置

## 主要内容

### 一、主要功能分类

1. Push-based Shuffle 启用/禁用配置

1. Shuffle 文件分块配置

1. 索引缓存配置

### 二、应用场景

包含 6 个场景：

- 启用 Push-based Shuffle

- 内存受限环境

- 高吞吐量

- 网络带宽受限

- 大规模索引查询

- 混合工作负载

### 三、总结

- 核心价值：Push-based Shuffle 控制、内存与性能平衡、索引缓存优化

- 关键配置原则：块大小选择、缓存大小设置、启用 Push-based Shuffle

- 注意事项：服务器端配置位置、版本要求、内存影响等

- 配置建议：生产环境默认值、性能调优方法、监控指标



# 客户器端配置

## 主要内容

### 一、主要功能分类

1. Push-based Shuffle 启用控制

1. 合并位置管理配置（动态比例 + 静态阈值）

1. 块推送配置（线程数、块大小、批次大小）

1. 合并完成配置（超时、线程数、等待阈值、完成比例）

### 二、应用场景

包含 10 个场景：

- 启用 Push-based Shuffle

- 大规模分区场景

- 小规模分区场景

- 高并发推送场景

- 大块处理场景

- 小块优化场景

- 大型 Shuffle 合并场景

- 小型 Shuffle 快速完成场景

- 部分推送完成场景

- 合并位置缓存管理场景

### 三、总结

- 核心价值：Push-based Shuffle 控制、智能合并位置管理、块推送优化、合并完成策略、性能与延迟平衡

- 关键配置原则：启用要求、合并位置计算、块大小关系、合并完成策略、线程配置

- 注意事项：客户端配置位置、版本要求、外部服务要求、各种权衡考虑

- 配置建议：生产环境启用步骤、性能调优方法、监控指标、测试验证