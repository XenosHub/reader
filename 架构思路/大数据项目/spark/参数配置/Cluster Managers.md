# Yarn

## 主要内容

### 一、主要功能分类（12 个类别）

1. Application Master 资源配置：内存、CPU、特殊资源（GPU/FPGA）配置
2. 文件分发配置：文件、JAR、归档分发，Spark JAR 缓存优化

1. 心跳和通信配置：AM 与 ResourceManager 的通信间隔

1. 环境变量和类路径配置：JVM 选项、库路径、Hadoop 类路径

1. 应用类型和元数据配置：应用类型、队列、标签、优先级

1. 节点标签和调度配置：节点标签表达式、节点排除

1. 故障处理和重试配置：最大尝试次数、故障有效性间隔、错误处理

1. 日志配置：日志滚动聚合、驱动器日志链接

1. 历史服务器和监控配置：历史服务器地址、指标命名空间

1. 异构集群配置：网关路径和替换路径

1. 安全配置：委托令牌、Shuffle 服务器恢复

1. 其他配置：执行器实例数、等待应用完成、非托管 AM

### 二、应用场景（12 个场景）

包含：

- GPU 加速场景

- 大规模文件分发场景

- 多队列调度场景

- 节点标签调度场景

- 高可用性场景

- 日志聚合场景

- 异构集群场景

- 安全增强场景

- 快速启动场景

- 资源密集型 AM 场景

- 环境变量配置场景

- Client 模式错误处理场景

每个场景都提供了具体的配置方案和预期效果。

### 三、总结

- 核心价值：资源管理、文件分发优化、调度控制、容错和可靠性、监控和日志、安全增强

- 关键配置原则：资源分配、文件分发、心跳和通信、调度策略、容错配置

- 注意事项：模式差异、版本要求、性能影响、安全考虑等

- 配置建议：生产环境、GPU 场景、高可用场景、性能优化、监控和调试

